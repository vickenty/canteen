<!DOCTYPE html>
<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>Rate our Canteen menu items</title>

<link rel="stylesheet" href="/vote_style.css" type="text/css" media="screen" />

</head>

<body>
<div class="container">
	% if (@$menu) {	
	<form id="canteen_voting" name="canteen_voting" method="post">
		%= t 'input', id => 'date', name => 'date', type => 'hidden', value => $date

		<h1>How was your food today?</h1>

	    <ul>
	        % my @votes = ( "Good", "Normal", "Bad" );
	        % foreach my $i (0 .. $#{$menu}) {
	            % my $name = $menu->[$i];
	            <li>
	                <span><%= $name %></span>
	                % foreach my $j (0 .. $#votes) {
	                    <label class="push_button vote_<%= $j %>">
	                        <input type="radio" name="vote_buttons_<%= $i %>" value="<%= $j %>">
                            <%= $votes[$j] %>
	                    </label>
	                % }
	            </li>
	        % }
	    </ul>
	    
	    <div class="button_container">
		    <button type="submit" id="submit_button">Vote</button>
	    </div>
	</form>	   
	    
	% } else {
	    <h1>Sorry</h1>
	    <p>Today's menu wasn't found</p>
	% }
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="/refresh.js"></script>

<script type="text/javascript">	
	
	$('#canteen_voting .push_button input:radio').click(
    function(){
     
     	var myLabel = $(this).attr('name');
        
        $('input:radio[name='+myLabel+']').parent().removeClass('active');
		$(this).parent().addClass('active');
    });
    
	
	$("#submit_button").click ( function () {
		$(this).addClass('pushed_in');		
	});
	
	
</script>

</body>
